# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –ó–∞–¥–∞–Ω–∏–µ: TikTok Video Preview –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö

## –¶–µ–ª—å
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ TikTok –≤–∏–¥–µ–æ –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –º—ã—à–∏ (hover), –∫–∞–∫ –≤ TikTok feed.

## –†–µ—Ñ–µ—Ä–µ–Ω—Å
- **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç**: TrendSee (app.trendsee.io)
- **–ü–æ–≤–µ–¥–µ–Ω–∏–µ**: –í–∏–¥–µ–æ –¥–æ–ª–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ hover, –∫–∞–∫ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º TikTok –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### 1.1 –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤–∏–¥–µ–æ
- ‚úÖ **–ê–≤—Ç–æ–ø–ª–µ–π –ø—Ä–∏ hover**: –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –º—ã—à–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É –≤–∏–¥–µ–æ –Ω–∞—á–∏–Ω–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è
- ‚úÖ **–ü–∞—É–∑–∞ –ø—Ä–∏ —É–±–∏—Ä–∞–Ω–∏–∏ –º—ã—à–∏**: –ö–æ–≥–¥–∞ –º—ã—à—å —É–±–∏—Ä–∞–µ—Ç—Å—è —Å –∫–∞—Ä—Ç–æ—á–∫–∏, –≤–∏–¥–µ–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
- ‚úÖ **–ó–∞—Ü–∏–∫–ª–µ–Ω–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ**: –í–∏–¥–µ–æ –¥–æ–ª–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è –≤ —Ü–∏–∫–ª–µ (loop)
- ‚úÖ **–ó–≤—É–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–∫–ª—é—á–µ–Ω**: –í–∏–¥–µ–æ –Ω–∞—á–∏–Ω–∞–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è –±–µ–∑ –∑–≤—É–∫–∞ (muted)
- ‚ö†Ô∏è **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –í–∫–ª—é—á–µ–Ω–∏–µ –∑–≤—É–∫–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ**: –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –≤–∏–¥–µ–æ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –∑–≤—É–∫

#### 1.2 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ **Lazy loading**: –í–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –∫–∞—Ä—Ç–æ—á–∫–∞ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ viewport (–≤–∏–¥–∏–º—É—é –æ–±–ª–∞—Å—Ç—å)
- ‚úÖ **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç thumbnail**: –°–Ω–∞—á–∞–ª–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–µ–≤—å—é (thumbnail), iframe –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ hover
- ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –û–¥–∏–Ω —Ä–∞–∑ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–µ –≤–∏–¥–µ–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è

#### 1.3 UI/UX
- ‚úÖ **–ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥**: –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –æ—Ç thumbnail –∫ –≤–∏–¥–µ–æ
- ‚úÖ **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏**: –ü–æ–∫–∞–∑–∞—Ç—å loader –ø–æ–∫–∞ –≤–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- ‚úÖ **Fallback**: –ï—Å–ª–∏ –≤–∏–¥–µ–æ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å, –ø–æ–∫–∞–∑–∞—Ç—å thumbnail —Å –æ—à–∏–±–∫–æ–π

---

## 2. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 2.1 –í—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥–∞

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥**: –ì–∏–±—Ä–∏–¥–Ω—ã–π (thumbnail + iframe on hover)

**–ü–æ—á–µ–º—É:**
- üöÄ –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—Ç–æ–ª—å–∫–æ –∫–∞—Ä—Ç–∏–Ω–∫–∏)
- ‚ú® –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–≤–∏–¥–µ–æ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ hover)
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å (—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ desktop –∏ mobile)

### 2.2 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### –§–∞–π–ª: `/client/src/components/VideoCard.tsx`

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—á–Ω—É—é –∫–∞—Ä—Ç–æ—á–∫—É —Å thumbnail
- –ù–µ—Ç –∞–≤—Ç–æ–ø–ª–µ—è –≤–∏–¥–µ–æ

**–¢—Ä–µ–±—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –î–æ–±–∞–≤–∏—Ç—å state –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è hover —Å–æ—Å—Ç–æ—è–Ω–∏—è
2. –ü—Ä–∏ hover –∑–∞–≥—Ä—É–∂–∞—Ç—å TikTok Embed Player (iframe)
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Intersection Observer –¥–ª—è lazy loading
4. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ onMouseEnter/onMouseLeave

---

## 3. TikTok Embed API

### 3.1 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å TikTok Embed Player

**Endpoint:**
```
https://www.tiktok.com/player/v1/{VIDEO_ID}?{–ø–∞—Ä–∞–º–µ—Ç—Ä—ã}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∞–≤—Ç–æ–ø–ª–µ—è:**
```
autoplay=1          // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ä—Ç
controls=0          // –°–∫—Ä—ã—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—ã (—á–∏—Å—Ç–æ–µ –≤–∏–¥–µ–æ)
loop=1              // –ó–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ
muted=1             // –ë–µ–∑ –∑–≤—É–∫–∞
music_info=0        // –°–∫—Ä—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º—É–∑—ã–∫–µ
description=0       // –°–∫—Ä—ã—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ
progress_bar=0      // –°–∫—Ä—ã—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä
```

**–ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ URL:**
```
https://www.tiktok.com/player/v1/7123456789?autoplay=1&controls=0&loop=1&muted=1&music_info=0&description=0
```

### 3.2 –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ Video ID

**–ò–∑ URL –≤–∏–¥–∞:**
- `https://www.tiktok.com/@username/video/7123456789`
- `https://vm.tiktok.com/ZMxxx/` (–ø–æ—Å–ª–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞)

**–§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è ID:**
```typescript
function extractTikTokVideoId(url: string): string | null {
  // Pattern 1: Regular TikTok URL
  const pattern1 = /tiktok\.com\/@[\w.-]+\/video\/(\d+)/;
  const match1 = url.match(pattern1);
  if (match1) return match1[1];

  // Pattern 2: From Apify scraped data (video ID –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ–ª–µ)
  // –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ Apify

  return null;
}
```

---

## 4. –ü—Å–µ–≤–¥–æ–∫–æ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 4.1 VideoCard Component

```typescript
interface VideoCardProps {
  videoUrl: string;
  thumbnail: string;
  username: string;
  views: number;
  likes: number;
  // ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
}

function VideoCard({ videoUrl, thumbnail, ...props }: VideoCardProps) {
  const [isHovered, setIsHovered] = useState(false);
  const [isInViewport, setIsInViewport] = useState(false);
  const [videoId, setVideoId] = useState<string | null>(null);
  const cardRef = useRef<HTMLDivElement>(null);

  // 1. Intersection Observer –¥–ª—è lazy loading
  useEffect(() => {
    const observer = new IntersectionObserver(
      ([entry]) => {
        setIsInViewport(entry.isIntersecting);
      },
      { threshold: 0.1 }
    );

    if (cardRef.current) {
      observer.observe(cardRef.current);
    }

    return () => observer.disconnect();
  }, []);

  // 2. –ò–∑–≤–ª–µ—á—å video ID –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
  useEffect(() => {
    const id = extractTikTokVideoId(videoUrl);
    setVideoId(id);
  }, [videoUrl]);

  // 3. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ hover
  const handleMouseEnter = () => {
    if (isInViewport && videoId) {
      setIsHovered(true);
    }
  };

  const handleMouseLeave = () => {
    setIsHovered(false);
  };

  return (
    <div
      ref={cardRef}
      onMouseEnter={handleMouseEnter}
      onMouseLeave={handleMouseLeave}
      className="video-card"
    >
      {/* Thumbnail (–≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è) */}
      {!isHovered && (
        <img
          src={thumbnail}
          alt="Video preview"
          className="thumbnail"
        />
      )}

      {/* TikTok Embed Player (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ hover) */}
      {isHovered && videoId && (
        <iframe
          src={`https://www.tiktok.com/player/v1/${videoId}?autoplay=1&controls=0&loop=1&muted=1&music_info=0&description=0`}
          allow="autoplay; fullscreen"
          className="tiktok-player"
        />
      )}

      {/* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è */}
      <div className="video-info">
        <span>{views} views</span>
        <span>{likes} likes</span>
      </div>
    </div>
  );
}
```

### 4.2 CSS —Å—Ç–∏–ª–∏

```css
.video-card {
  position: relative;
  width: 100%;
  aspect-ratio: 9 / 16; /* TikTok —Ñ–æ—Ä–º–∞—Ç */
  border-radius: 12px;
  overflow: hidden;
  cursor: pointer;
  transition: transform 0.2s ease;
}

.video-card:hover {
  transform: scale(1.02);
}

.thumbnail,
.tiktok-player {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border: none;
}

.tiktok-player {
  position: absolute;
  top: 0;
  left: 0;
}

.video-info {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 12px;
  background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
  color: white;
}
```

---

## 5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Apify –¥–∞–Ω–Ω—ã–º–∏

### 5.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Apify

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞–∫–∏–µ –ø–æ–ª—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Apify:**
```typescript
interface ApifyTikTokVideo {
  webVideoUrl: string;        // https://www.tiktok.com/@user/video/123
  videoUrl: string;           // –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ .mp4 (–µ—Å–ª–∏ –µ—Å—Ç—å)
  id: string;                 // Video ID
  text: string;               // –û–ø–∏—Å–∞–Ω–∏–µ
  authorMeta: {
    name: string;             // Username
    avatar: string;           // URL –∞–≤–∞—Ç–∞—Ä–∞
  };
  covers: {
    default: string;          // Thumbnail URL
  };
  // ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
}
```

### 5.2 Mapping –¥–∞–Ω–Ω—ã—Ö

```typescript
function mapApifyToVideoCard(apifyData: ApifyTikTokVideo): VideoCardProps {
  return {
    videoUrl: apifyData.webVideoUrl,
    thumbnail: apifyData.covers.default,
    username: apifyData.authorMeta.name,
    avatar: apifyData.authorMeta.avatar,
    description: apifyData.text,
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
  };
}
```

---

## 6. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã

### –ü–æ–¥—Ö–æ–¥ A: TikTok oEmbed API (–ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢—Ä–µ–±—É–µ—Ç —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∏–¥–µ–æ, –º–µ–¥–ª–µ–Ω–Ω–µ–µ

### –ü–æ–¥—Ö–æ–¥ B: –ü—Ä—è–º–æ–π .mp4 —Ñ–∞–π–ª (–ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–∞—Ä—É—à–∞–µ—Ç ToS TikTok, –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ

### –ü–æ–¥—Ö–æ–¥ C: Blockquote Embed (–ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–ª–∏—à–∫–æ–º —Ç—è–∂–µ–ª—ã–π, –∑–∞–≥—Ä—É–∂–∞–µ—Ç –º–Ω–æ–≥–æ –¥–∞–Ω–Ω—ã—Ö, –Ω–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—è

---

## 7. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 7.1 –ß–µ–∫-–ª–∏—Å—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- [ ] –í–∏–¥–µ–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ hover
- [ ] –í–∏–¥–µ–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —É–±–∏—Ä–∞–Ω–∏–∏ –º—ã—à–∏
- [ ] –í–∏–¥–µ–æ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è (loop)
- [ ] –ó–≤—É–∫ –≤—ã–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- [ ] Lazy loading —Ä–∞–±–æ—Ç–∞–µ—Ç (–≤–∏–¥–µ–æ –≥—Ä—É–∑–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ viewport)
- [ ] –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞
- [ ] –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ desktop
- [ ] –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ mobile (touch events)
- [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–º —Å–∫—Ä–æ–ª–ª–µ
- [ ] –ù–µ —Ç–æ—Ä–º–æ–∑–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–∏ 10+ –≤–∏–¥–µ–æ

### 7.2 –¢–µ—Å—Ç–æ–≤—ã–µ URL

**–¢–µ—Å—Ç–æ–≤—ã–µ TikTok –≤–∏–¥–µ–æ:**
1. `https://www.tiktok.com/@scout2015/video/6718335390845095173`
2. `https://www.tiktok.com/@mauvellala/video/7123456789` (–∏–∑ –≤–∞—à–µ–≥–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞)

### 7.3 –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–ú–µ—Ç—Ä–∏–∫–∏:**
- –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å 10 –≤–∏–¥–µ–æ: < 2 —Å–µ–∫—É–Ω–¥—ã
- –í—Ä–µ–º—è –æ—Ç hover –¥–æ –Ω–∞—á–∞–ª–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è: < 500ms
- –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏: < 100MB –¥–ª—è 20 –≤–∏–¥–µ–æ

---

## 8. Edge Cases –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### 8.1 –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏:

**–í–∏–¥–µ–æ —É–¥–∞–ª–µ–Ω–æ/–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ:**
```typescript
<div className="error-state">
  <img src={thumbnail} alt="Video unavailable" />
  <div className="error-overlay">
    ‚ùå Video unavailable
  </div>
</div>
```

**Video ID –Ω–µ —É–¥–∞–ª–æ—Å—å –∏–∑–≤–ª–µ—á—å:**
```typescript
if (!videoId) {
  // Fallback –Ω–∞ thumbnail —Å–æ —Å—Å—ã–ª–∫–æ–π –Ω–∞ TikTok
  return (
    <a href={videoUrl} target="_blank">
      <img src={thumbnail} />
    </a>
  );
}
```

**–ú–µ–¥–ª–µ–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:**
- –ü–æ–∫–∞–∑–∞—Ç—å spinner/loader
- –¢–∞–π–º–∞—É—Ç 5 —Å–µ–∫—É–Ω–¥ ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É

---

## 9. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 9.1 –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ–∏—á–∏

**Feature 1: –í–∫–ª—é—á–µ–Ω–∏–µ –∑–≤—É–∫–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ**
```typescript
const [isMuted, setIsMuted] = useState(true);

const handleClick = () => {
  setIsMuted(false);
  // –û—Ç–ø—Ä–∞–≤–∏—Ç—å message –≤ iframe –¥–ª—è unmute
};
```

**Feature 2: –ö–æ–Ω—Ç—Ä–æ–ª—å —á–µ—Ä–µ–∑ postMessage**
```typescript
// –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥ –≤ TikTok iframe
iframeRef.current?.contentWindow?.postMessage({
  'x-tiktok-player': true,
  type: 'play',
  value: undefined
}, '*');
```

**Feature 3: Analytics —Ç—Ä–µ–∫–∏–Ω–≥**
```typescript
// –¢—Ä–µ–∫–∏–Ω–≥ –∫–æ–≥–¥–∞ –≤–∏–¥–µ–æ –ø—Ä–æ–∏–≥—Ä–∞–Ω–æ
const handleVideoPlayed = () => {
  analytics.track('video_preview_played', {
    videoId,
    username,
    timestamp: Date.now()
  });
};
```

---

## 10. Timeline —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –§–∞–∑–∞ 1: –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (2-3 –¥–Ω—è)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å VideoCard —Å hover —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å TikTok Embed Player
- [ ] –î–æ–±–∞–≤–∏—Ç—å Intersection Observer –¥–ª—è lazy loading
- [ ] –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –∏ –∞–Ω–∏–º–∞—Ü–∏–∏

### –§–∞–∑–∞ 2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (1-2 –¥–Ω—è)
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ edge cases
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö
- [ ] Mobile –∞–¥–∞–ø—Ç–∞—Ü–∏—è

### –§–∞–∑–∞ 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, 1 –¥–µ–Ω—å)
- [ ] –í–∫–ª—é—á–µ–Ω–∏–µ –∑–≤—É–∫–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ
- [ ] Analytics –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤

---

## 11. –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

### ‚úÖ –ì–æ—Ç–æ–≤–æ –∫–æ–≥–¥–∞:
1. –í–∏–¥–µ–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ hover –Ω–∞ desktop
2. –í–∏–¥–µ–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —É–±–∏—Ä–∞–Ω–∏–∏ –º—ã—à–∏
3. –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å 10+ –≤–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–æ (< 2 —Å–µ–∫)
4. –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Chrome, Safari, Firefox
5. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ mobile (touch)
6. –ù–µ—Ç –±–∞–≥–æ–≤ –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–º —Å–∫—Ä–æ–ª–ª–µ
7. –ö–æ–¥ –ø–æ–∫—Ä—ã—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
8. –ü—Ä–æ–≤–µ–¥–µ–Ω–æ code review

---

## 12. –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ —Ä–µ—Å—É—Ä—Å—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [TikTok Embed Player Docs](https://developers.tiktok.com/doc/embed-player)
- [TikTok Embed Videos Docs](https://developers.tiktok.com/doc/embed-videos)
- [Intersection Observer API](https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API)

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã
- TrendSee: https://app.trendsee.io
- TikTok: https://www.tiktok.com

### –í–æ–ø—Ä–æ—Å—ã
- Slack: #dev-frontend
- Email: tech@trendscout.ai

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-01-24
**–ê–≤—Ç–æ—Ä:** Product Team
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** High üî•
**–û—Ü–µ–Ω–∫–∞:** 3-5 –¥–Ω–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
